= Interfaces de Red en Ubuntu/Debian
:toc:
:toclevels: 3
:sectnums:

== Introducción

En sistemas **Ubuntu 18 y anteriores** (y Debian clásico), la gestión de red se realiza tradicionalmente mediante **NetworkManager** y el archivo de configuración:

[source]
----
/etc/network/interfaces
----

A diferencia de Netplan:

* Se pueden usar **tabuladores o espacios** para la indentación.
* La sintaxis es más flexible.
* Es necesario editar con **privilegios de superusuario** (`root` o `sudo`) para evitar errores al guardar cambios.

== Configuración por Defecto

La configuración mínima del sistema incluye la interfaz de loopback:

[source,conf]
----
# interfaces(5) file used by ifup(8) and ifdown(8)
auto lo
iface lo inet loopback
----

* `auto lo`: inicia la interfaz `lo` automáticamente al arrancar.
* `iface lo inet loopback`: define la interfaz de loopback con protocolo `inet` (IPv4).

== Configuración de Red Estática

Para asignar una IP fija a una interfaz, se define de la siguiente forma:

[source,conf]
----
# interfaces(5) file used by ifup(8) and ifdown(8)
auto lo
iface lo inet loopback

auto enp0s3
iface enp0s3 inet static
    address 192.168.8.101
    netmask 255.255.255.0
    gateway 192.168.8.1
    dns-nameservers 192.168.8.1 8.8.8.8
----

Notas importantes:

* `address`: dirección IP asignada.
* `netmask`: máscara de subred.
* `gateway`: puerta de enlace predeterminada.
* `dns-nameservers`: servidores DNS.
* `auto enp0s3`: activa la interfaz al iniciar el sistema.

Esta configuración es **persistente** y se mantiene tras reinicios.

== Configuración de Red Dinámica (DHCP)

Para obtener la dirección IP automáticamente mediante DHCP:

[source,conf]
----
# interfaces(5) file used by ifup(8) and ifdown(8)
auto lo
iface lo inet loopback

auto enp0s3
iface enp0s3 inet dhcp
----

Notas:

* `iface enp0s3 inet dhcp` indica que la IP será **asignada automáticamente** por un servidor DHCP.
* Ideal para clientes o entornos donde la IP puede variar.
* La configuración **no es persistente** si el servidor DHCP cambia la IP asignada.

== Aplicación de Cambios

Después de editar `/etc/network/interfaces`, los cambios pueden aplicarse sin reiniciar usando:

[source,bash]
----
sudo ifdown enp0s3 && sudo ifup enp0s3
----

O bien reiniciando la máquina.

== Resumen

* `/etc/network/interfaces` es el método clásico de configuración de red.
* Soporta **IP estática y DHCP**.
* Flexible con la indentación, a diferencia de Netplan.
* Requiere privilegios de superusuario para editar.
* `auto INTERFAZ` asegura que la interfaz se inicie al arrancar.

